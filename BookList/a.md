---
marp: true
---

# 良いコード悪いコードで学ぶ設計入門

---

## 16 章 設計を妨げる開発プロセスとの戦い

---

## 本章の概要

レガシーコードが生み出される要因として、これまで本書では様々な技術的観点が紹介されてきました。本章では特に「問題を抱えた開発プロセス」に焦点を当て、具体的な課題と対策について解説します。

主に以下の 4 つの観点から問題と解決策を検討します：

- コミュニケーション
- 設計
- 実装
- レビュー

---

## 発表のゴール

- 問題がある開発プロセスを理解できる
- 各段階での具体的な課題を認識できる
- 実践的な改善策を学び、自分たちのチームに適用できる

---

## コミュニケーション

### 心理的安全性の重要性

- 安心して自由に発言したり、行動できる状態のことを指す
- これがないチームでは：
  - 情報共有がうまくいかなくなる
  - 設計品質の向上が難しくなる
  - 問題の早期発見・解決ができなくなる

### 改善のためのアクション

- 定期的な 1on1 ミーティングの実施
- 失敗を学びの機会として捉える文化の醸成
- チーム内での知識共有セッションの定例化

---

## 設計

### 早く終わらせたいという心理の罠

- とにかく動くコードを優先しすぎることで、まともな設計なしで「よくわからないが動いている状態」になる
- 非エンジニア視点では外側の動作だけを評価するため、実装が早いことを過度に評価してしまう
  - 初期段階では良くても、後々の機能追加や変更で大きな負債となる

### バランスの重要性

- 粗悪なコードは綺麗なコードを書くより常に開発速度が遅くなる
  - TDD のような規律ある開発手法は、長期的には開発速度を向上させる
- 設計しすぎも問題：適切なサイクルを回し続けることが重要
  - 実装を通じて初めて気づく設計上の問題もある

### 意思決定の方法

- 設計ルールを多数決で決めるとコード品質は低下する
  - 代わりに、原則とベストプラクティスに基づいた議論を

---

## 実装

### 品質維持のための原則

- 割れ窓理論：小さな乱れを放置すると全体が荒れる
- ボーイスカウトの規則：コードは見つけた時より綺麗にして去る

### 認知バイアスへの注意

- 既存実装を信用しすぎない
  - アンカリング効果：最初の情報に引きずられる
  - ジョシュアツリーの法則：間違った命名が新たな間違いを生む

### 自動化と標準化

- コーディング規約の徹底
  - RuboCop や ESLint などの静的解析ツールの活用
- 命名規約の一貫性
  - 共通の用語集（ユビキタス言語）の整備

---

## レビュー

### 効果的なレビュープロセス

- コードレビューを仕組み化する
  - チェックリストの活用
  - レビュー基準の明確化
- 設計視点でレビューする
  - 実装の詳細だけでなく、設計原則との整合性を確認

### レビュー文化

- 敬意と礼儀を重視
  - コードへの批判とエンジニアへの批判を区別
  - 建設的なフィードバックの与え方
- 心理的安全性に配慮したコミュニケーション

---

## 実践のためのステップ

1. チームの現状を評価する
   - 開発プロセスの各段階での課題を特定
2. 優先度の高い問題から取り組む
   - すべてを一度に解決しようとしない
3. 小さな改善を継続的に実施
   - 習慣化することで持続的な効果を得る
4. 定期的に振り返りを行う
   - 改善の効果を評価し、次のアクションを決定

---

## まとめ

- 優れた設計はコードだけでなく、開発プロセス全体に関わる問題
- コミュニケーション、設計、実装、レビューの各段階での課題を認識することが重要
- 技術的な知識だけでなく、チーム文化や心理的側面にも配慮が必要
- 継続的な改善のサイクルを回し続けることで、設計品質と開発効率の両方を向上させることができる

---

## 参考資料

- 『良いコード/悪いコードで学ぶ設計入門』
- Clean Code（Robert C. Martin）
- The Pragmatic Programmer（Dave Thomas, Andy Hunt）
- Team Geek（Brian W. Fitzpatrick, Ben Collins-Sussman）
